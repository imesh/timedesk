#labels SpringSecurity,UserAuthentication
#User Authentication implementation using Spring Security 3.0.

= Introduction =

User Authentication of Time Desk is handled by Spring Security 3.0. It will make use of two entities, namely User and Role.

entity Role
{
    string name;
}

entity User
{
    string username;
    string password;
    boolean enabled;
    set<Role> roles;
}

These two entities will create 3 database tables, namely user, role and user_role.

= Details =

File applicationContext-security.xml will be modified as below to add JDBC User Service:
<!-- Configure Authentication mechanism -->
<authentication-manager alias="authenticationManager">
    <authentication-provider>
        <password-encoder hash="md5"/>
	<jdbc-user-service data-source-ref="dataSource"
	 users-by-username-query="SELECT username, password, enabled FROM users where username=?"
	 authorities-by-username-query="SELECT u.username, r.name as authority FROM users u, users_roles ur, roles r WHERE u.id = ur.Users_id AND ur.roles_id AND u.username = ?" />
    </authentication-provider>
</authentication-manager>