<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<div xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:field="urn:jsptagdir:/WEB-INF/tags/form/fields" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:page="urn:jsptagdir:/WEB-INF/tags/form" xmlns:security="http://www.springframework.org/security/tags" xmlns:table="urn:jsptagdir:/WEB-INF/tags/form/fields" version="2.0">
    <jsp:output omit-xml-declaration="yes"/>
        <c:set value="false" var="fedit"/>
	<security:authorize ifAnyGranted="COMPANY.EDIT">
	  	<c:set value="true" var="fedit"/>
	</security:authorize> 
	
	<page:show create="${fedit}" delete="${fedit}" id="ps_org_timedesk_entity_Company" object="${company}" path="/companies" update="${fedit}" z="user-managed">
        <field:display field="companyId" id="s_org_timedesk_entity_Company_companyId" object="${company}" z="oRi9GO4HInEPcLfnfZKeWWjcGxU="/>
        <field:display field="name" id="s_org_timedesk_entity_Company_name" object="${company}" z="+FmHSUL9z1dBHyLVUqcvvOQCt5s="/>
        <field:display field="companySites" id="s_org_timedesk_entity_Company_companySites" object="${company}" render="false" z="user-managed"/>
        <field:display field="projects" id="s_org_timedesk_entity_Company_projects" object="${company}" render="false" z="user-managed"/>
        
        <p class="data-grid-label">Company Sites:</p>
        <table:table create="${fedit}" data="${company.companySites}" delete="${fedit}" id="l_org_timedesk_entity_CompanySite" parentId="${company.id}" path="/companysites" update="${fedit}" z="user-managed">
            <table:column id="c_org_timedesk_entity_CompanySite_company" property="company" render="flase" z="user-managed"/>
            <table:column id="c_org_timedesk_entity_CompanySite_siteId" property="siteId" z="user-managed"/>
            <table:column id="c_org_timedesk_entity_CompanySite_location" maxLength="60" property="location" z="user-managed"/>
            <table:column id="c_org_timedesk_entity_CompanySite_city" property="city" z="user-managed"/>
            <table:column id="c_org_timedesk_entity_CompanySite_country" maxLength="50" property="country" z="user-managed"/>
            <table:column id="c_org_timedesk_entity_CompanySite_employees" property="employees" render="false" z="user-managed"/>
        </table:table>
        <br/>
        <p class="data-grid-label">Projects:</p>
        <table:table create="${fedit}" data="${company.projects}" delete="${fedit}" id="l_org_timedesk_entity_Project" parentId="${company.id}" path="/projects" update="${fedit}" z="QVC2twZAMUzOCVs35dBRHXVanlk=">            
            
            <table:column id="c_org_timedesk_entity_Project_name" maxLength="100" property="name" z="user-managed"/>
            <table:column id="c_org_timedesk_entity_Project_description" maxLength="200" property="description" z="user-managed"/>                  
        	<table:column id="c_org_timedesk_entity_Project_company" property="company" render="false" z="user-managed"/>
        </table:table>        
    </page:show>
</div>
